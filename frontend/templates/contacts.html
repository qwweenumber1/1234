{% extends "base.html" %}

{% block title %}–ó–≤'—è–∑–æ–∫ - Smart 3D{% endblock %}

{% block extra_css %}
<style>
    .contact-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        max-width: 1100px;
        margin: 60px auto;
        padding: 0 5%;
    }

    .contact-info {
        display: flex;
        flex-direction: column;
        gap: 30px;
    }

    .contact-info h1 {
        font-family: 'Roboto Slab', serif;
        font-size: 36px;
        color: #2f2f2f;
        margin-bottom: 10px;
    }

    .contact-info p {
        font-family: 'Roboto Slab', serif;
        font-size: 18px;
        color: #6b6b6b;
        line-height: 1.6;
    }

    .contact-item {
        display: flex;
        align-items: center;
        gap: 15px;
        font-family: 'Roboto Slab', serif;
        font-size: 18px;
        color: #2f2f2f;
    }

    .contact-item i {
        color: #a3d392;
        font-size: 24px;
    }

    .contact-form-card {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
    }

    .contact-form {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .contact-form input,
    .contact-form textarea {
        padding: 14px 16px;
        border-radius: 12px;
        border: 1px solid #cfd6cf;
        font-family: 'Roboto Slab', serif;
        font-size: 15px;
    }

    .contact-form textarea {
        resize: vertical;
        min-height: 150px;
    }

    .contact-form input:focus,
    .contact-form textarea:focus {
        outline: none;
        border-color: #7fbf7f;
    }

    .submit-button {
        padding: 16px;
        border-radius: 14px;
        border: none;
        background-color: #a3d392;
        color: white;
        font-family: 'Roboto Slab', serif;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .submit-button:hover {
        opacity: 0.85;
        transform: translateY(-2px);
    }

    .success-message {
        display: none;
        color: #4b8f3f;
        font-weight: 700;
        text-align: center;
        margin-top: 15px;
    }

    @media (max-width: 850px) {
        .contact-container {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}

<main class="contact-container">
    <div class="contact-info">
        <h1>–ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏</h1>
        <p>–ú–∞—î—Ç–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è —â–æ–¥–æ 3D-–¥—Ä—É–∫—É –∞–±–æ —Ö–æ—á–µ—Ç–µ –æ–±–≥–æ–≤–æ—Ä–∏—Ç–∏ –≤–µ–ª–∏–∫–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è? –ù–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º, —ñ –º–∏ –≤—ñ–¥–ø–æ–≤—ñ–º–æ
            —è–∫–æ–º–æ–≥–∞ —à–≤–∏–¥—à–µ!</p>

        <div class="contact-item">
            <span>üìç –ö–∏—ó–≤, –£–∫—Ä–∞—ó–Ω–∞</span>
        </div>
        <div class="contact-item">
            <span>‚úâÔ∏è info@smart3d.com.ua</span>
        </div>
        <div class="contact-item">
            <span>‚úâÔ∏è smart-3D.printing@gmail.com</span>
        </div>
        <div class="contact-item">
            <span>üìû <a href="tel:+380672659865" style="color: inherit; text-decoration: none;">+38 (067) 265 98
                    65</a></span>
        </div>
        <div class="contact-item">
            <span>üìû <a href="tel:+380662004790" style="color: inherit; text-decoration: none;">+38 (066) 200 47
                    90</a></span>
            <a href="https://wa.me/380662004790" label="WhatsApp" style="margin-left: 10px;"><img
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/512px-WhatsApp.svg.png"
                    width="26" title="WhatsApp"></a>
            <a href="https://t.me/+380662004790" label="Telegram" style="margin-left: 8px;"><img
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/512px-Telegram_logo.svg.png"
                    width="26" title="Telegram"></a>
        </div>

        <p style="margin-top: 20px;">–ú–∏ –ø—Ä–∞—Ü—é—î–º–æ: –ü–Ω-–ü—Ç 9:00 - 18:00</p>
    </div>

    <div class="contact-form-card">
        <form id="contactForm" class="contact-form">
            <input type="text" name="name" placeholder="–í–∞—à–µ —ñ–º'—è" required>
            <input type="email" name="email" placeholder="–í–∞—à Email" required>
            <input type="text" name="subject" placeholder="–¢–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" required>
            <textarea name="message" placeholder="–í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..." required></textarea>
            <button type="submit" class="submit-button">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
            <div id="formSuccess" class="success-message">–î—è–∫—É—î–º–æ! –í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ.</div>
        </form>
    </div>
</main>

{% endblock %}

{% block scripts %}
<script>
    const contactForm = document.getElementById('contactForm');
    contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(contactForm);
        const submitBtn = contactForm.querySelector('.submit-button');
        const successMsg = document.getElementById('formSuccess');

        submitBtn.disabled = true;
        submitBtn.textContent = '–í—ñ–¥–ø—Ä–∞–≤–∫–∞...';

        try {
            const res = await fetch('/contacts', {
                method: 'POST',
                body: formData
            });

            if (res.ok) {
                contactForm.reset();
                successMsg.style.display = 'block';
                submitBtn.textContent = '–ù–∞–¥—ñ—Å–ª–∞–Ω–æ!';
                setTimeout(() => {
                    successMsg.style.display = 'none';
                    submitBtn.disabled = false;
                    submitBtn.textContent = '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏';
                }, 5000);
            } else {
                alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.');
                submitBtn.disabled = false;
                submitBtn.textContent = '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏';
            }
        } catch (err) {
            console.error(err);
            alert('–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ.');
            submitBtn.disabled = false;
            submitBtn.textContent = '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏';
        }
    });
</script>
{% endblock %}