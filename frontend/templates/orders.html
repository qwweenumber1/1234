{% extends "base.html" %}

{% block title %}–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è - Smart 3D{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/orders.css?v=11">
{% endblock %}

{% block content %}

<main class="orders-content" style="min-height: 60vh;">
    <div id="verificationMessage"></div>
    <h1>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h1>

    <form id="orderForm" enctype="multipart/form-data" class="advanced-form">
        <input type="text" name="description" placeholder="–û–ø–∏—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–Ω–∞–ø—Ä. –®–µ—Å—Ç–µ—Ä–Ω—è)" required>

        <div class="selection-group">
            <label class="group-label">‚öôÔ∏è –û–±–µ—Ä—ñ—Ç—å –º–∞—Ç–µ—Ä—ñ–∞–ª:</label>
            <div class="chip-grid">
                <input type="radio" name="material" value="PLA" id="m_pla" checked required>
                <label for="m_pla" class="chip">PLA<span>200‚Ç¥ min</span></label>

                <input type="radio" name="material" value="ABS" id="m_abs">
                <label for="m_abs" class="chip">ABS<span>200‚Ç¥ min</span></label>

                <input type="radio" name="material" value="PETG" id="m_petg">
                <label for="m_petg" class="chip">PETG<span>200‚Ç¥ min</span></label>

                <input type="radio" name="material" value="TPU" id="m_tpu">
                <label for="m_tpu" class="chip">TPU<span>500‚Ç¥ min</span></label>

                <input type="radio" name="material" value="Nylon" id="m_nylon">
                <label for="m_nylon" class="chip">–ù–µ–π–ª–æ–Ω<span>500‚Ç¥ min</span></label>

                <input type="radio" name="material" value="SLA" id="m_sla">
                <label for="m_sla" class="chip">SLA<span>500‚Ç¥ min</span></label>
            </div>
        </div>

        <div class="selection-group">
            <label class="group-label">üé® –û–±–µ—Ä—ñ—Ç—å –∫–æ–ª—ñ—Ä:</label>
            <div class="chip-grid colors">
                <input type="radio" name="color" value="Black" id="c_black" checked>
                <label for="c_black" class="chip color-chip" style="--bg: #000; --fg: #fff;">–ß–æ—Ä–Ω–∏–π</label>

                <input type="radio" name="color" value="White" id="c_white">
                <label for="c_white" class="chip color-chip" style="--bg: #fff; --fg: #000;">–ë—ñ–ª–∏–π</label>

                <input type="radio" name="color" value="Grey" id="c_grey">
                <label for="c_grey" class="chip color-chip" style="--bg: #888; --fg: #fff;">–°—ñ—Ä–∏–π</label>

                <input type="radio" name="color" value="Red" id="c_red">
                <label for="c_red" class="chip color-chip" style="--bg: #e74c3c; --fg: #fff;">–ß–µ—Ä–≤–æ–Ω–∏–π</label>

                <input type="radio" name="color" value="Blue" id="c_blue">
                <label for="c_blue" class="chip color-chip" style="--bg: #3498db; --fg: #fff;">–°–∏–Ω—ñ–π</label>
            </div>
        </div>

        <div class="form-row">
            <div class="input-wrapper">
                <label>üìç X (–º–º)</label>
                <input type="number" name="width" placeholder="–º–º" min="1" max="500" required>
            </div>
            <div class="input-wrapper">
                <label>üìç Y (–º–º)</label>
                <input type="number" name="length" placeholder="–º–º" min="1" max="500" required>
            </div>
            <div class="input-wrapper">
                <label>üìç Z (–º–º)</label>
                <input type="number" name="height" placeholder="–º–º" min="1" max="500" required>
            </div>
        </div>

        <div class="form-row">
            <div class="input-wrapper">
                <label>üß¨ –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è (%)</label>
                <input type="number" name="infill" placeholder="%" min="0" max="100" value="20">
            </div>
            <div class="input-wrapper">
                <label>‚öñÔ∏è –í–∞–≥–∞ (–≥)</label>
                <input type="number" name="real_weight" placeholder="–≥" min="0" max="10000">
            </div>
        </div>

        <label class="file-label">
            <span>üìÇ –î–æ–¥–∞—Ç–∏ —Ñ–∞–π–ª –º–æ–¥–µ–ª—ñ</span>
            <input type="file" name="file">
        </label>

        <button type="button" id="previewBtn" class="primary-btn">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
    </form>

    <!-- Confirm Modal -->
    <div id="confirmModal" class="modal-overlay">
        <div class="modal-box confirmation-box">
            <h2 style="margin-top: 0; color: #4b8f3f;">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</h2>
            <p>–ë—É–¥—å –ª–∞—Å–∫–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:</p>
            <div id="orderSummary" class="order-summary"></div>
            <div class="price-prediction">
                <span>–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å:</span>
                <strong id="predictedPrice">0</strong> <strong>–≥—Ä–Ω</strong>
            </div>
            <div class="modal-actions">
                <button id="closeConfirmBtn" class="modal-btn cancel">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å</button>
                <button id="finalSubmitBtn" class="modal-btn confirm-action">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
            </div>
        </div>
    </div>

    <h2 style="margin-top: 40px;">–í–∞—à—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
    <ul id="ordersList"></ul>
</main>

<!-- Modal for Delete Confirmation -->
<div id="deleteModal" class="modal-overlay">
    <div class="modal-box">
        <h3 style="margin-top: 0;">–í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è?</h3>
        <p>–¶—é –¥—ñ—é –Ω–µ–º–æ–∂–ª–∏–≤–æ –≤—ñ–¥–º—ñ–Ω–∏—Ç–∏.</p>
        <div class="modal-actions">
            <button id="cancelBtn" class="modal-btn cancel">–ù—ñ, –∑–∞–ª–∏—à–∏—Ç–∏</button>
            <button id="confirmBtn" class="modal-btn confirm">–¢–∞–∫, –≤–∏–¥–∞–ª–∏—Ç–∏</button>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="/static/js/orders.js?v=2"></script>
{% endblock %}